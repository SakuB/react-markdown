!function(e){function t(l){if(a[l])return a[l].exports;var i=a[l]={exports:{},id:l,loaded:!1};return e[l].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var i=a(1),n=l(i),r=a(2),s=l(r),o=a(3),u=l(o),d=a(4),c=l(d);u["default"].configure({tabReplace:"  ",languages:["html","css","javascript"]}),s["default"].setOptions({highlight:function(e,t){var a=t?u["default"].highlight(t,e):u["default"].highlightAuto(e);return a.value}});var f=document.getElementById("editor");n["default"].render(n["default"].createElement(c["default"],null),f)},function(e,t,a){e.exports=React},function(e,t,a){e.exports=marked},function(e,t,a){e.exports=hljs},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=l(i),r=a(5),s=l(r),o=a(6),u=l(o),d=a(7),c=l(d);t["default"]=n["default"].createClass({displayName:"form.react",getDefaultProps:function(){return{article:{}}},render:function(){return n["default"].createElement("form",null,n["default"].createElement(c["default"],{title:this.props.article.title}),n["default"].createElement(s["default"],{tags:this.props.article.tags}),n["default"].createElement(u["default"],{content:this.props.article.content}))}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=l(i);t["default"]=n["default"].createClass({displayName:"taginput.react",getInitialState:function(){var e=this.props.tags||[];return this._getState(e)},componentDidMount:function(){var e=n["default"].findDOMNode(this.refs.input);this._initialInputWidth=this._getElementWidth(e)},render:function(){var e=this.state.tags.map(function(e,t){return n["default"].createElement("span",{key:t,className:"tag"},e)});return n["default"].createElement("div",{className:"textbox tag-input",onClick:this._click},e,n["default"].createElement("input",{type:"text",ref:"input",onKeyDown:this._keyDown,onKeyUp:this._keyUp,placeholder:this.state.placeholder}),n["default"].createElement("span",{className:"hidden",ref:"hidden"}))},_click:function(){var e=n["default"].findDOMNode(this.refs.input);e.focus()},_keyDown:function(e){var t=n["default"].findDOMNode(this.refs.input);switch(e.keyCode){case 188:e.preventDefault();var a=t.value.trim();t.value="",t.style.width=this._initialInputWidth+"px",this._addTag(a);break;case 8:""==t.value&&this._removeTag()}},_keyUp:function(e){var t=n["default"].findDOMNode(this.refs.input),a=n["default"].findDOMNode(this.refs.hidden);a.textContent=t.value;var l=this._getElementWidth(t),i=this._getElementWidth(a);i+20>l&&(t.style.width=l+20+"px")},_addTag:function(e){var t=this.state.tags;e&&t.indexOf(e)<0&&(t.push(e),this.setState(this._getState(t)))},_removeTag:function(e){var t=this.state.tags;"undefined"==typeof e&&(e=t.length-1),t.splice(e,1),this.setState(this._getState(t))},_getState:function(e){return{tags:e,placeholder:"标签，如JavaScript"}},_getElementWidth:function(e){var t=e.getBoundingClientRect();return t.right-t.left}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=l(i),r=a(2),s=l(r);t["default"]=n["default"].createClass({displayName:"editor.react",getInitialState:function(){return{content:{__html:""},editorHeight:540,modeControlStyle:{btnEdit:"",btnSplit:"active",btnPreview:"",pEditor:"md-editor",pPreview:"md-preview markdown"},panelClass:"md-panel"}},componentDidMount:function(){this.textControl=n["default"].findDOMNode(this.refs.editor),this.previewControl=n["default"].findDOMNode(this.refs.preview),this.resizer=n["default"].findDOMNode(this.refs.resizer),this.minEditorHeight=this.state.editorHeight},render:function(){return n["default"].createElement("div",{className:this.state.panelClass},n["default"].createElement("ul",{className:"md-toolbar"},n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"加粗",onClick:this._boldText},n["default"].createElement("i",{className:"fa fa-bold"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"斜体",onClick:this._italicText},n["default"].createElement("i",{className:"fa fa-italic"})))," ",n["default"].createElement("li",{className:"tb-btn spliter"}),n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"链接",onClick:this._linkText},n["default"].createElement("i",{className:"fa fa-link"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"引用",onClick:this._blockquoteText},n["default"].createElement("i",{className:"fa fa-outdent"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"代码段",onClick:this._codeText},n["default"].createElement("i",{className:"fa fa-code"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"图片",onClick:this._pictureText},n["default"].createElement("i",{className:"fa fa-picture-o"})))," ",n["default"].createElement("li",{className:"tb-btn spliter"}),n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"有序列表",onClick:this._listOlText},n["default"].createElement("i",{className:"fa fa-list-ol"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"无序列表",onClick:this._listUlText},n["default"].createElement("i",{className:"fa fa-list-ul"})))," ",n["default"].createElement("li",{className:"tb-btn"},n["default"].createElement("a",{title:"标题",onClick:this._headerText},n["default"].createElement("i",{className:"fa fa-header"})))," ",n["default"].createElement("li",{className:"tb-btn pull-right"},n["default"].createElement("a",{className:this.state.modeControlStyle.btnPreview,onClick:this._previewMode,title:"预览模式"},n["default"].createElement("i",{className:"fa fa-eye"})))," ",n["default"].createElement("li",{className:"tb-btn pull-right"},n["default"].createElement("a",{className:this.state.modeControlStyle.btnSplit,onClick:this._splitMode,title:"分屏模式"},n["default"].createElement("i",{className:"fa fa-columns"})))," ",n["default"].createElement("li",{className:"tb-btn pull-right"},n["default"].createElement("a",{className:this.state.modeControlStyle.btnEdit,onClick:this._editMode,title:"编辑模式"},n["default"].createElement("i",{className:"fa fa-pencil"})))," ",n["default"].createElement("li",{className:"tb-btn spliter pull-right"}),n["default"].createElement("li",{className:"tb-btn pull-right"},n["default"].createElement("a",{title:"全屏模式",onClick:this._fullScreen},n["default"].createElement("i",{className:"fa fa-arrows-alt"})))," "),n["default"].createElement("div",{className:this.state.modeControlStyle.pEditor},n["default"].createElement("textarea",{ref:"editor",onChange:this._onChange,style:{height:this.state.editorHeight+"px"}})),n["default"].createElement("div",{className:this.state.modeControlStyle.pPreview,ref:"preview",dangerouslySetInnerHTML:this.state.content}),n["default"].createElement("div",{className:"md-spliter"}),n["default"].createElement("div",{className:"md-resizer",ref:"resizer",onMouseDown:this._mousedown,onDragStart:this._dragstart}))},_onChange:function(e){var t=this;this._ltr&&clearTimeout(this._ltr),this._ltr=setTimeout(function(){var e=t.textControl.value;t.setState({content:{__html:s["default"](e)}})},300)},_mousedown:function(e){document.addEventListener("mousemove",this._mousemove),document.addEventListener("mouseup",this._mouseup)},_mouseup:function(e){document.removeEventListener("mousemove",this._mousemove)},_mousemove:function(e){var t=e.clientY-this.textControl.getBoundingClientRect().top-5;this.setState({editorHeight:Math.max(t,this.minEditorHeight)})},_dragstart:function(e){e.preventDefault(),e.stopPropergation()},_preInputText:function(e,t,a){var l=this.textControl.selectionStart,i=this.textControl.selectionEnd,n=this.textControl.value;this.textControl.value=n.slice(0,l)+e+n.slice(i),this.textControl.setSelectionRange(l+t,l+a),this.setState({content:{__html:s["default"](this.textControl.value)}})},_boldText:function(){this._preInputText("**加粗文字**",2,6)},_italicText:function(){this._preInputText("_斜体文字_",1,5)},_linkText:function(){this._preInputText("[链接文本](www.yourlink.com)",1,5)},_blockquoteText:function(){this._preInputText("> 引用",2,4)},_codeText:function(){this._preInputText("```\ncode block\n```",4,14)},_pictureText:function(){this._preInputText("![alt](www.yourlink.com)",2,5)},_listUlText:function(){this._preInputText("- 无序列表项0\n- 无序列表项1",2,8)},_listOlText:function(){this._preInputText("1. 有序列表项0\n2. 有序列表项1",3,9)},_headerText:function(){this._preInputText("## 标题",3,5)},_editMode:function(){this.setState({modeControlStyle:this._getModeStyle("edit")})},_splitMode:function(){this.setState({modeControlStyle:this._getModeStyle("split")})},_previewMode:function(){this.setState({modeControlStyle:this._getModeStyle("preview")})},_getModeStyle:function(e){switch(e){case"split":return{btnEdit:"",btnSplit:"active",btnPreview:"",pEditor:"md-editor",pPreview:"md-preview markdown"};case"edit":return{btnEdit:"active",btnSplit:"",btnPreview:"",pEditor:"md-editor expand",pPreview:"md-preview markdown shrink"};case"preview":return{btnEdit:"",btnSplit:"",btnPreview:"active",pEditor:"md-editor",pPreview:"md-preview markdown expand"}}},_fullScreen:function(){this._isFullScreen?(this.setState({panelClass:"md-panel"}),this._isFullScreen=!1):(this.setState({panelClass:"md-panel fullscreen"}),this._isFullScreen=!0)}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=l(i);t["default"]=n["default"].createClass({displayName:"title.react",getInitialState:function(){return{title:this.props.title||""}},render:function(){return n["default"].createElement("div",{className:"editor-title"},n["default"].createElement("input",{className:"textbox",name:"title",ref:"title",type:"text",value:this.state.title,onChange:this._onChange,placeholder:"来，取个响亮的标题吧！"}))},getValue:function(){var e=n["default"].findDOMNode(this.refs.title);return e&&e.value},_onChange:function(e){this.setState({title:e.target.value})}}),e.exports=t["default"]}]);
//# sourceMappingURL=editor.min.js.map