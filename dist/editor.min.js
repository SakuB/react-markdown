!function(e){function t(l){if(a[l])return a[l].exports;var n=a[l]={exports:{},id:l,loaded:!1};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(1),i=l(n),r=a(2),s=l(r),u=a(3),c=l(u),o=a(4),d=l(o);c["default"].configure({tabReplace:"  ",languages:["html","css","javascript"]}),s["default"].setOptions({highlight:function(e,t){var a=t?c["default"].highlight(t,e):c["default"].highlightAuto(e);return a.value}});var f=document.getElementById("editor");i["default"].render(i["default"].createElement(d["default"],null),f)},function(e,t,a){e.exports=React},function(e,t,a){e.exports=marked},function(e,t,a){e.exports=hljs},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=l(n),r=a(5),s=l(r),u=a(6),c=l(u),o=a(7),d=l(o);t["default"]=i["default"].createClass({displayName:"form.react",getDefaultProps:function(){return{article:{}}},render:function(){return i["default"].createElement("form",null,i["default"].createElement(d["default"],{title:this.props.article.title}),i["default"].createElement(s["default"],{tags:this.props.article.tags}),i["default"].createElement(c["default"],{content:this.props.article.content}))}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=l(n);t["default"]=i["default"].createClass({displayName:"taginput.react",getInitialState:function(){var e=this.props.tags||[];return this._getState(e)},componentDidMount:function(){var e=i["default"].findDOMNode(this.refs.input);this._initialInputWidth=this._getElementWidth(e)},render:function(){var e=this.state.tags.map(function(e,t){return i["default"].createElement("span",{key:t,className:"tag"},e)});return i["default"].createElement("div",{className:"textbox tag-input",onClick:this._click},e,i["default"].createElement("input",{type:"text",ref:"input",onKeyDown:this._keyDown,onKeyUp:this._keyUp,placeholder:this.state.placeholder}),i["default"].createElement("span",{className:"hidden",ref:"hidden"}))},_click:function(){var e=i["default"].findDOMNode(this.refs.input);e.focus()},_keyDown:function(e){var t=i["default"].findDOMNode(this.refs.input);switch(e.keyCode){case 188:e.preventDefault();var a=t.value.trim();t.value="",t.style.width=this._initialInputWidth+"px",this._addTag(a);break;case 8:""==t.value&&this._removeTag()}},_keyUp:function(e){var t=i["default"].findDOMNode(this.refs.input),a=i["default"].findDOMNode(this.refs.hidden);a.textContent=t.value;var l=this._getElementWidth(t),n=this._getElementWidth(a);n+20>l&&(t.style.width=l+20+"px")},_addTag:function(e){var t=this.state.tags;e&&t.indexOf(e)<0&&(t.push(e),this.setState(this._getState(t)))},_removeTag:function(e){var t=this.state.tags;"undefined"==typeof e&&(e=t.length-1),t.splice(e,1),this.setState(this._getState(t))},_getState:function(e){return{tags:e,placeholder:"标签，如JavaScript"}},_getElementWidth:function(e){var t=e.getBoundingClientRect();return t.right-t.left}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=l(n),r=a(2),s=l(r);t["default"]=i["default"].createClass({displayName:"editor.react",getInitialState:function(){return{content:{__html:""},editorHeight:540}},componentDidMount:function(){this.textControl=i["default"].findDOMNode(this.refs.editor),this.previewControl=i["default"].findDOMNode(this.refs.preview),this.resizer=i["default"].findDOMNode(this.refs.resizer),this.minEditorHeight=this.state.editorHeight},render:function(){return i["default"].createElement("div",{className:"md-panel"},i["default"].createElement("ul",{className:"md-toolbar"},i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"加粗",onClick:this._boldText},i["default"].createElement("i",{className:"fa fa-bold"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"斜体",onClick:this._italicText},i["default"].createElement("i",{className:"fa fa-italic"})))," ",i["default"].createElement("li",{className:"tb-btn spliter"}),i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"链接",onClick:this._linkText},i["default"].createElement("i",{className:"fa fa-link"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"引用",onClick:this._blockquoteText},i["default"].createElement("i",{className:"fa fa-outdent"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"代码段",onClick:this._codeText},i["default"].createElement("i",{className:"fa fa-code"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"图片",onClick:this._pictureText},i["default"].createElement("i",{className:"fa fa-picture-o"})))," ",i["default"].createElement("li",{className:"tb-btn spliter"}),i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"有序列表",onClick:this._listOlText},i["default"].createElement("i",{className:"fa fa-list-ol"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"无序列表",onClick:this._listUlText},i["default"].createElement("i",{className:"fa fa-list-ul"})))," ",i["default"].createElement("li",{className:"tb-btn"},i["default"].createElement("a",{title:"标题",onClick:this._headerText},i["default"].createElement("i",{className:"fa fa-header"})))," ",i["default"].createElement("li",{className:"tb-btn pull-right"},i["default"].createElement("a",{title:"预览模式"},i["default"].createElement("i",{className:"fa fa-eye"})))," ",i["default"].createElement("li",{className:"tb-btn pull-right"},i["default"].createElement("a",{title:"分屏模式"},i["default"].createElement("i",{className:"fa fa-columns"})))," ",i["default"].createElement("li",{className:"tb-btn pull-right"},i["default"].createElement("a",{title:"编辑模式"},i["default"].createElement("i",{className:"fa fa-pencil"})))," ",i["default"].createElement("li",{className:"tb-btn spliter pull-right"}),i["default"].createElement("li",{className:"tb-btn pull-right"},i["default"].createElement("a",{title:"全屏模式"},i["default"].createElement("i",{className:"fa fa-arrows-alt"})))," "),i["default"].createElement("div",{className:"md-editor"},i["default"].createElement("textarea",{ref:"editor",onChange:this._onChange,style:{height:this.state.editorHeight+"px"}})),i["default"].createElement("div",{ref:"preview",className:"md-preview markdown",dangerouslySetInnerHTML:this.state.content}),i["default"].createElement("div",{className:"md-spliter"}),i["default"].createElement("div",{ref:"resizer",className:"md-resizer",onMouseDown:this._mousedown,onDragStart:this._dragstart}))},_onChange:function(e){var t=this;this._ltr&&clearTimeout(this._ltr),this._ltr=setTimeout(function(){var e=t.textControl.value;t.setState({content:{__html:s["default"](e)}})},300)},_mousedown:function(e){document.addEventListener("mousemove",this._mousemove),document.addEventListener("mouseup",this._mouseup)},_mouseup:function(e){document.removeEventListener("mousemove",this._mousemove)},_mousemove:function(e){var t=e.clientY-this.textControl.getBoundingClientRect().top-5;this.setState({editorHeight:Math.max(t,this.minEditorHeight)})},_dragstart:function(e){e.preventDefault(),e.stopPropergation()},_preInputText:function(e,t,a){var l=this.textControl.selectionStart,n=this.textControl.selectionEnd,i=this.textControl.value;this.textControl.value=i.slice(0,l)+e+i.slice(n),this.textControl.setSelectionRange(l+t,l+a),this.setState({content:{__html:s["default"](this.textControl.value)}})},_boldText:function(){this._preInputText("**加粗文字**",2,6)},_italicText:function(){this._preInputText("_斜体文字_",1,5)},_linkText:function(){this._preInputText("[链接文本](www.yourlink.com)",1,5)},_blockquoteText:function(){this._preInputText("> 引用",2,4)},_codeText:function(){this._preInputText("```\ncode block\n```",4,14)},_pictureText:function(){this._preInputText("![alt](www.yourlink.com)",2,5)},_listUlText:function(){this._preInputText("- 无序列表项0\n- 无序列表项1",2,8)},_listOlText:function(){this._preInputText("1. 无序列表项0\n2. 无序列表项1",3,9)},_headerText:function(){this._preInputText("## 标题",3,5)}}),e.exports=t["default"]},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=l(n);t["default"]=i["default"].createClass({displayName:"title.react",getInitialState:function(){return{title:this.props.title||""}},render:function(){return i["default"].createElement("div",{className:"editor-title"},i["default"].createElement("input",{className:"textbox",name:"title",ref:"title",type:"text",value:this.state.title,onChange:this._onChange,placeholder:"来，取个响亮的标题吧！"}))},getValue:function(){var e=i["default"].findDOMNode(this.refs.title);return e&&e.value},_onChange:function(e){this.setState({title:e.target.value})}}),e.exports=t["default"]}]);
//# sourceMappingURL=editor.min.js.map